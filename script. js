const translations = {
  fa: {
    mainTitle: "به آرایه خوش اومدی!",
    welcomeMsg: "پلتفرمی برای ساخت و تعامل با مدل‌های هوش مصنوعی",
    startBtn: "شروع رایگان"
  },
  en: {
    mainTitle: "Welcome to Arayeh!",
    welcomeMsg: "A platform to build and interact with AI models",
    startBtn: "Start Free"
  }
};

let currentLang = localStorage.getItem("lang") || "fa";

function applyTranslation(lang) {
  const t = translations[lang];
  document.getElementById("main-title").textContent = t.mainTitle;
  document.getElementById("welcome-msg").textContent = t.welcomeMsg;
  document.getElementById("start-btn").textContent = t.startBtn;
  document.body.dir = lang === "fa" ? "rtl" : "ltr";
  document.documentElement.lang = lang;
}

document.addEventListener("DOMContentLoaded", () => {
  applyTranslation(currentLang);

  document.getElementById("lang-btn").addEventListener("click", () => {
    document.getElementById("lang-popup").classList.add("show");
  });

  document.getElementById("lang-close-btn").addEventListener("click", () => {
    document.getElementById("lang-popup").classList.remove("show");
  });

  document.querySelectorAll(".lang-option").forEach(btn => {
    btn.addEventListener("click", () => {
      const selected = btn.dataset.lang;
      localStorage.setItem("lang", selected);
      applyTranslation(selected);
      document.getElementById("lang-popup").classList.remove("show");
    });
  });
});
